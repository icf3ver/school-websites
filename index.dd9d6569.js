let API_URL;function apiUrl(){return API_URL+window.location.hash.substring(1)}async function handler(){let e=document.getElementById("content"),t=document.getElementById("menu");if(null!=t){let e=await fetch(API_URL),l=await e.json();console.log(l);let n=document.createElement("ul");if("default"==l.type){for(let[e,t]of Object.entries(l.classes)){let l=document.createElement("li");l.className="item";let a=document.createElement("a");a.href="#/"+e,a.innerText=e.replace("-"," ");let i=document.createElement("ul");i.className="submenu";for(let l=0;l<t.length;l++){let n=document.createElement("li"),a=document.createElement("a");a.href="#/"+e+"/"+t[l],a.innerText=t[l].replace("-"," "),n.appendChild(a),i.appendChild(n)}l.appendChild(a),l.appendChild(i),n.appendChild(l)}t.innerHTML="",t.appendChild(n)}}if(null!=e){let t=await fetch(apiUrl()),l=await t.json();if(console.log(l),"default"==l.type){e.innerHTML="<h1>Main</h1>";let t=document.createElement("ul");for(let[e,n]of Object.entries(l.classes)){let l=document.createElement("li");l.className="item";let a=document.createElement("a");a.href="#/"+e,a.innerText=e.replace("-"," ");let i=document.createElement("ul");i.className="submenu";for(let t of n){let l=document.createElement("li"),n=document.createElement("a");n.href="#/"+e+"/"+t,n.innerText=t.replace("-"," "),l.appendChild(n),i.appendChild(l)}l.appendChild(a),l.appendChild(i),t.appendChild(l)}e.innerHTML="<h1>Main</h1>",e.appendChild(t)}else if("class"==l.type){let t=document.createElement("ul");for(let e of l.pages){let n=document.createElement("li"),a=document.createElement("a");a.href="#/"+l["class-name"]+"/"+e,a.innerText=e.replace("-"," "),n.appendChild(a),t.appendChild(n)}e.innerHTML="<h1>"+l["class-name"].charAt(0).toUpperCase()+l["class-name"].slice(1)+"</h1>",e.appendChild(t)}else if("page"==l.type){e.innerHTML="";let t=document.createElement("h1");t.innerText=l.title,e.appendChild(t);let n=document.createElement("h5");n.innerText="by: "+l.author,n.style.marginTop="0%",e.appendChild(n);for(let t of l.elem)if("subtitle"==t.type){let l=document.createElement("h3");l.innerText=t.text,e.appendChild(l)}else if("text"==t.type){let l=document.createElement("h4");l.innerText=t.text,e.appendChild(l)}else if("img"==t.type){let l=document.createElement("img");l.src=API_URL+"/img/"+t.name,l.style.width="100%",e.appendChild(l)}else if("wrapimg"==t.type){let l=document.createElement("div"),n=document.createElement("div"),a=document.createElement("img");a.src=API_URL+"/img/"+t.name,a.style.width="100%","right"==t.side?(n.style.float="right",l.style.float="right",n.appendChild(a),n.style.width=t.width,l.style.width=99-parseInt(t.width.substring(0,2))+"%",n.style.paddingLeft="1%",e.appendChild(n),e.appendChild(l)):(n.style.float="left",l.style.float="left",l.appendChild(a),l.style.width=t.width,n.style.width=99-parseInt(t.width.substring(0,2))+"%",l.style.paddingRight="1%",e.appendChild(l),e.appendChild(n))}}}}API_URL="production"===process.env.NODE_ENV?"https://api.school-websites.littletitan.org/":"http://localhost:8000/",window.addEventListener("load",handler),window.addEventListener("hashchange",handler,!1);
//# sourceMappingURL=index.dd9d6569.js.map
